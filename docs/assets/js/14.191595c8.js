(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{184:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.telerik.com/fiddler",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载地址"),n("OutboundLink")],1)])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://qzonetouch.github.io/commonWidget/willow",target:"_blank",rel:"noopener noreferrer"}},[t._v("Willow"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/QzoneTouch/commonWidget/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件地址"),n("OutboundLink")],1)])]),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/avwo/whistle",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle(读音"),n("code",[t._v("[ˈwɪsəl]")]),t._v("，拼音"),n("code",[t._v("[wēisǒu]")]),t._v(")是基于Node实现的跨平台抓包调试代理工具"),n("OutboundLink")],1),t._v("，有以下基本功能：")]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),n("h4",{attrs:{id:"注入调试-vconsole-或者-eruda"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注入调试-vconsole-或者-eruda","aria-hidden":"true"}},[t._v("#")]),t._v(" 注入调试 "),n("a",{attrs:{href:"https://github.com/whistle-plugins/whistle.inspect",target:"_blank",rel:"noopener noreferrer"}},[t._v("vConsole 或者 Eruda"),n("OutboundLink")],1)]),t._v(" "),t._m(32),t._v(" "),n("ul",[n("li",[t._v("该规则需要安装插件："),n("code",[t._v("npm i -g whistle.inspect")]),t._v("，插件"),n("a",{attrs:{href:"https://github.com/whistle-plugins/whistle.inspect",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1)]),t._v(" "),t._m(33)]),t._v(" "),n("h4",{attrs:{id:"注入-weinre"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注入-weinre","aria-hidden":"true"}},[t._v("#")]),t._v(" 注入 "),n("a",{attrs:{href:"http://wproxy.org/whistle/webui/weinre.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("weinre"),n("OutboundLink")],1)]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),n("ol",[n("li",[n("p",[t._v("全局安装插件："),n("code",[t._v("npm i -g whistle.vase")]),t._v("，插件"),n("a",{attrs:{href:"https://github.com/whistle-plugins/whistle.vase",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1)])]),t._v(" "),t._m(39),t._v(" "),t._m(40)]),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),n("p",[t._v("该规则需要安装插件")]),t._v(" "),n("p",[t._v("1.全局安装插件："),n("code",[t._v("npm i -g whistle.script")]),t._v("，插件"),n("a",{attrs:{href:"https://github.com/whistle-plugins/whistle.script",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("2.代理环境打开 http://script.local.whistlejs.com")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),n("h4",{attrs:{id:"更多关于whistle"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更多关于whistle","aria-hidden":"true"}},[t._v("#")]),t._v(" 更多关于"),n("a",{attrs:{href:"http://wproxy.org/whistle/",target:"_blank",rel:"noopener noreferrer"}},[t._v("whistle"),n("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"抓包调试工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#抓包调试工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 抓包调试工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"fidder的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fidder的使用","aria-hidden":"true"}},[this._v("#")]),this._v(" Fidder的使用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"fidder简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fidder简介","aria-hidden":"true"}},[this._v("#")]),this._v(" Fidder简介")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("抓包工具有很多，小到最常用的web调试工具firebug，达到通用的强大的抓包工具wireshark.为什么使用fiddler?原因如下：")]),this._v(" "),s("blockquote",[s("p",[this._v("a.Firebug虽然可以抓包，但是对于分析http请求的详细信息，不够强大。模拟http请求的功能也不够，且firebug常常是需要“无刷新修改”，如果刷新了页面，所有的修改都不会保存。\nb.Wireshark是通用的抓包工具，但是比较庞大，对于只需要抓取http请求的应用来说，似乎有些大材小用。\nc.Httpwatch也是比较常用的http抓包工具，但是只支持IE和firefox浏览器（其他浏览器可能会有相应的插件），对于想要调试chrome浏览器的http请求，似乎稍显无力，而Fiddler 是一个使用本地 127.0.0.1:8888 的 HTTP 代理，任何能够设置 HTTP 代理为 127.0.0.1:8888 的浏览器和应用程序都可以使用 Fiddler。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/fidder.png",alt:"pic"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"对手机抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对手机抓包","aria-hidden":"true"}},[this._v("#")]),this._v(" 对手机抓包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Tools > Options > https 勾选图中红线框出来的，之后会有弹窗提示安装证书。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/fidder2.png",alt:"pic"}}),this._v(" "),s("img",{attrs:{src:"/img/fidder3.png",alt:"pic"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("Tools > Options > connections 勾选图中的")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/fidder4.png",alt:"pic"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("在手机上连接跟电脑在同一局域网下的网络，然后在无线网络中去设置代理，代理地址就是电脑ip地址和 端口号，之后在手机浏览器中输入 电脑ip地址和端口号 进行访问，会出下如下图，然后点击图中框出来的文字，下载并且安装证书。ios 比 安卓再多一个步骤，需要去 "),s("strong",[this._v("设置->通用->关于本机->证书信任设置")]),this._v(" 去信任证书才可以进行抓包。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/fidder5.png",alt:"pic"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"在电脑上对浏览器进行抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在电脑上对浏览器进行抓包","aria-hidden":"true"}},[this._v("#")]),this._v(" 在电脑上对浏览器进行抓包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("可以在浏览器设置里面设置代理，或者安装 "),s("strong",[this._v("Proxy SwitchyOmega")]),this._v(" 这个插件来管理代理，代理协议为 http，代理服务器为 127.0.0.1，端口号是在 fidder 上设置的端口号。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"可以对fidder自定义规则-rules-customize-rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可以对fidder自定义规则-rules-customize-rules","aria-hidden":"true"}},[this._v("#")]),this._v(" 可以对fidder自定义规则(Rules -> Customize Rules)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[s("strong",[this._v("下列设置中只能有一个OnBeforeResponse和OnBeforeResponse，下面只是为了方便演示代码位置才写了多个")])])]),this._v(" "),s("li",[s("p",[s("strong",[this._v("修改请求")])])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnBeforeRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uriContains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://****/biz-V2.2/SHD/goodsAttr/getGoodsAttr"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("utilReplaceInRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"prodId\": 1016995'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"prodId\": 11111'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("修改响应")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnBeforeResponse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uriContains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://****/biz-V2.2/SHG/verification/purchaseCMPForOldUser"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("utilReplaceInResponse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"status": "1"\'')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"status": "2"\'')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("修改url传参")])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnBeforeRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uriContains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://****/***-test/v2.0/pages/mall/productwith/productwith.html"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Replace")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prodId=1017159"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prodId=111111"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("接口代理")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("使用场景：")]),this._v(" "),s("blockquote",[s("ul",[s("li",[this._v("接口存在跨域问题")]),this._v(" "),s("li",[this._v("本地服务启动后，再将接口代理到正式环境，这样修改本地代码相当于修改的是线上代码，这对于修改线上bug很方便，比起之前通过fiddler将线上文件指定到本地方便些，因为有可能依赖的文件很多，需要一个个都指定到本地，其实线上代码与本地代码的区别只是接口地址不一样。通过代理只改接口地址还是很方便。\n使用方法：\n1、打开自定义规则文件：菜单栏 > Rules > Customize Rules，快捷键 ctrl + r，文件路径C:\\Users\\用户名\\Documents\\Fiddler2\\Scripts\\CustomRules.js\n2、添加如下代码，可根据需求自己改")])])])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置一个开关自定义规则的名称")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RulesOption")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"随便取一个名字"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 规则默认开启状态")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" m_Proxy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" boolean "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求之前规则")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("OnBeforeRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Session"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_Proxy "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uriContains")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/biz-orange/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*****download.huanqiulama*****.com"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果请求接口是 https 需要加这句")]),t._v("\n    oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullUrl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Substring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oSession"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullUrl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("IndexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"willow是一款面向前端开发的fiddler插件，简单易用，尤其适合多人团队协作。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#willow是一款面向前端开发的fiddler插件，简单易用，尤其适合多人团队协作。","aria-hidden":"true"}},[this._v("#")]),this._v(" Willow是一款面向前端开发的Fiddler插件，简单易用，尤其适合多人团队协作。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/fidderWillow.png",alt:"pic"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"whistle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#whistle","aria-hidden":"true"}},[this._v("#")]),this._v(" whistle")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"很强大的一款基于-node-平台的调试工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#很强大的一款基于-node-平台的调试工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 很强大的一款基于 node 平台的调试工具")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ol",[n("li",[t._v("查看HTTP、HTTPS请求响应内容")]),t._v(" "),n("li",[t._v("查看WebSocket、Socket收发的帧数据")]),t._v(" "),n("li",[t._v("设置请求hosts、上游http/socks代理")]),t._v(" "),n("li",[t._v("修改请求url、方法、头部、内容")]),t._v(" "),n("li",[t._v("修改响应状态码、头部、内容，并支持本地替换")]),t._v(" "),n("li",[t._v("修改WebSocket或Socket收发的帧数据")]),t._v(" "),n("li",[t._v("内置调试移动端页面的weinre和log")]),t._v(" "),n("li",[t._v("作为HTTP代理或反向代理")]),t._v(" "),n("li",[t._v("支持用Node编写插件扩展功能")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("具体功能如图:\n"),s("img",{attrs:{src:"/img/whistle.png",alt:"基本功能"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"线上资源文件指向本地"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线上资源文件指向本地","aria-hidden":"true"}},[this._v("#")]),this._v(" 线上资源文件指向本地")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Rules: "),s("code",[this._v("app.10086.cn/xxxxxx file://D:\\xxxx\\file")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Rules: "),s("code",[this._v("xxxxx.html whistle.inspect://")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("如果需要注入 Eruda，只需改成 "),s("code",[this._v("whistle.inspect://e")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Rules: "),s("code",[this._v("app.10086.cn/xxxxxx.html weinre://id")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"打印日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打印日志","aria-hidden":"true"}},[this._v("#")]),this._v(" 打印日志")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ules："),s("code",[this._v("app.10086.cn/xxxxxxxxx.html log://")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"使用-mock-修改响应"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-mock-修改响应","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 mock 修改响应")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Rules："),s("code",[this._v("app.10086.cn/xxxx/xxx/xxxx whistle.vase://systemDate")]),s("br"),this._v("\n该规则需要安装插件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("代理环境打开 "),s("code",[this._v("http://vase.local.whistlejs.com")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("添加名为 "),s("code",[this._v("systemDate")]),this._v("，Engine为 "),s("code",[this._v("mock")]),this._v(" 的数据")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"retCode"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000000"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"retDesc"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SUCCESS"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rspBody"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"date"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-11-16 15:55:46"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@cword(1,10)"')]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("注："),s("code",[this._v("npm install -g whistle")]),this._v("默认下载是最新的版本（1.13.6），目前"),s("code",[this._v("whistle.vase")]),this._v("版本（1.2.0）上设置的规则会不起作用（如图1）。需要切换到之前的版本（如：1.1.0，如图2）")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("图1："),s("img",{attrs:{src:"/img/vase1.png",alt:"图一"}}),this._v("\n图2："),s("img",{attrs:{src:"/img/vase2.png",alt:"图一"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"修改响应，解密数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改响应，解密数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改响应，解密数据")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Rules："),s("code",[this._v("app.10086.cn/xxxxxx script://decryptByAES")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("3.添加名为 "),s("code",[this._v("decryptByAES")]),this._v(" 脚本")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局安装 npm i -g crypto-js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" CryptoJS "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crypto-js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("decryptByAES")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CryptoJS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Utf8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'密钥'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" iv "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CryptoJS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Utf8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'偏移量'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" out "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CryptoJS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   iv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" CryptoJS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CBC")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" CryptoJS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("enc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Utf8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleRequest")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发送请求")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取响应体")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" resBody "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResBody")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转成 JSON")]),t._v("\n resBody "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resBody"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解密")]),t._v("\n ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("decryptByAES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resBody"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="debugTools.md";s.default=e.exports}}]);