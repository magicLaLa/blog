<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
  
  
  
  
  <link rel="prev" href="/2020/%E4%BB%A3%E7%90%86%E7%9B%B8%E5%85%B3/" />
  
  <link rel="canonical" href="/2020/windowsterminal/" />
  <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Windows Terminal 美化 | Magic
       
  </title>
  <meta name="title" content="Windows Terminal 美化 | Magic">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Windows Terminal 美化"/>
<meta name="twitter:description" content="参考和部分引用自: SpencerWoo：新生代 Windows 终端：Windows Terminal 的全面自定义
Windows Terminal 美化 安装 Windows Terminal  可以到 Microsoft Store 中安装 Windows Terminal（Preview）   也可以从 https://github.com/microsoft/terminal 来安装  使用 scoop 来管理软件  用 Scoop 管理你的 Windows 软件 可以使用 scoop help 来查看更多命令 scoop 语法 scoop &#43; 动作 &#43; 对象，对象是可以省略的 scoop bucket add nerd-fonts 用来添加字体库，后续需要使用这个 scoop search FantasqueSansMono-NF 搜索需要安装的字体，下图所示    scoop install FantasqueSansMono-NF 安装字体  安装 oh-my-posh  官网 安装 posh-git 和 oh-my-posh 这两个模块  Install-Module posh-git -Scope CurrentUser Install-Module oh-my-posh -Scope CurrentUser  让 PowerShell 主题配置生效  新增（或修改）你的 PowerShell 配置文件  # 如果之前没有配置文件，就新建一个 PowerShell 配置文件 if (!"/>

  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Windows Terminal 美化",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "\/2020\/windowsterminal\/"
  },
  
  "genre": "posts",
  "keywords": "杂项, Windows Terminal",
  "wordcount":  848 ,
  "url": "\/2020\/windowsterminal\/",
  "datePublished": "2020-03-22T00:00:00\x2b00:00",
  "dateModified": "2020-03-22T00:00:00\x2b00:00",
  
  "publisher": {
    "@type": "Organization",
    "name": "Magic",
    "logo": {
      "@type": "ImageObject",
      "url": "\/logo.png",
      "width":  50 ,
      "height":  50 
    }
  },
  "author": {
    "@type": "Person",
    "name": "Magic"
  },
  "description": ""
}
</script>
</head>

  



  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="/">Magic</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;<a href="/">Magic</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp">
    <header class="post-header">
        <h1 class="post-title">Windows Terminal 美化</h1>
        <div class="post-meta">
            Written by <a href="/"
                rel="author">Magic</a>
            with ♥
            <span class="post-time">
                on <time
                    datetime=2020-03-22>22 March 2020</time>
            </span>
            in
            <i class="iconfont icon-folder"></i>
            <span class="post-category">
                <a href="/categories/%E6%9D%82%E9%A1%B9/"> 杂项 </a>
                
            </span>
            <i class="iconfont icon-timer"></i>
            4 min
        </div>
    </header>
    <div class="post-content">
        

        
        
        

        
        

        
        
        

        
        
        

        

<p><em>参考和部分引用自: <a href="https://sspai.com/post/59380" rel="nofollow noreferrer" target="_blank">SpencerWoo：新生代 Windows 终端：Windows Terminal 的全面自定义</a></em></p>

<h1 id="windows-terminal-美化">Windows Terminal 美化</h1>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/myTheme.png" alt="Windows 奥里给！" class="lazyload"><figcaption class="image-caption">Windows 奥里给！</figcaption></figure></p>

<h2 id="安装-windows-terminal">安装 Windows Terminal</h2>

<ul>
<li>可以到 Microsoft Store 中安装 Windows Terminal（Preview）</li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/windowsTerminalStore.png" alt="windowsTerminalStore" class="lazyload"><figcaption class="image-caption">windowsTerminalStore</figcaption></figure></p>

<ul>
<li>也可以从 <a href="https://github.com/microsoft/terminal" rel="nofollow noreferrer" target="_blank">https://github.com/microsoft/terminal</a> 来安装</li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/Releasespage.png" alt="Releases page" class="lazyload"><figcaption class="image-caption">Releases page</figcaption></figure></p>

<h2 id="使用-scoop-来管理软件">使用 scoop 来管理软件</h2>

<ul>
<li><a href="https://github.com/lukesampson/scoop" rel="nofollow noreferrer" target="_blank">用 Scoop 管理你的 Windows 软件</a></li>
<li>可以使用 <code>scoop help</code> 来查看更多命令</li>
<li>scoop 语法 <code>scoop</code> + 动作 + 对象，对象是可以省略的</li>
<li><code>scoop bucket add nerd-fonts</code> 用来添加字体库，后续需要使用这个</li>
<li><code>scoop search FantasqueSansMono-NF</code> 搜索需要安装的字体，下图所示
<br /></li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/scoop-search.png" alt="scoop-searc" class="lazyload"><figcaption class="image-caption">scoop-searc</figcaption></figure></p>

<ul>
<li><code>scoop install FantasqueSansMono-NF</code> 安装字体</li>
</ul>

<h2 id="安装-oh-my-posh">安装 oh-my-posh</h2>

<ul>
<li><a href="https://github.com/JanDeDobbeleer/oh-my-posh" rel="nofollow noreferrer" target="_blank">官网</a></li>
<li>安装 posh-git 和 oh-my-posh 这两个模块</li>
</ul>

<pre><code class="language-sh">Install-Module posh-git -Scope CurrentUser 
Install-Module oh-my-posh -Scope CurrentUser
</code></pre>

<h3 id="让-powershell-主题配置生效">让 PowerShell 主题配置生效</h3>

<ul>
<li>新增（或修改）你的 PowerShell 配置文件</li>
</ul>

<pre><code class="language-sh"># 如果之前没有配置文件，就新建一个 PowerShell 配置文件
if (!(Test-Path -Path $PROFILE )) { New-Item -Type File -Path $PROFILE -Force }
# 用记事本打开配置文件
notepad $PROFILE
</code></pre>

<ul>
<li>在其中添加下面的内容</li>
</ul>

<pre><code class="language-sh">Import-Module posh-git 
Import-Module oh-my-posh 
Set-Theme Paradox
</code></pre>

<ul>
<li><code>Set-Theme Paradox</code> 设置主题，更过主题可以到 官网 查看 <a href="https://github.com/JanDeDobbeleer/oh-my-posh" rel="nofollow noreferrer" target="_blank">https://github.com/JanDeDobbeleer/oh-my-posh</a></li>
<li>oh-my-posh 使用了一些非 Powerline 字体不支持的字符，因此如果你使用默认的等宽字体（比如 Consolas），在显示过程中就会出现乱码、字符显示不全的现象。（这里就需要把之前安装的字体换上了）</li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/powerline.png" alt="字符显示不全的问题" class="lazyload"><figcaption class="image-caption">字符显示不全的问题</figcaption></figure></p>

<h2 id="windows-terminal-的配置文件">Windows Terminal 的配置文件</h2>

<p>首先，我们进入 Windows Terminal 的设置文件。在 Windows Terminal 的下拉菜单中，选择 Settings（或使用快捷键 <code>Ctrl +</code>,），这一操作会使用你系统默认的文本编辑器打开 Windows Terminal 的配置文件。</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/Terminal.png" alt="Terminal-Setting" class="lazyload"><figcaption class="image-caption">Terminal-Setting</figcaption></figure></p>

<p>Windows Terminal 的配置文件是一个 JSON 格式的文件，我们会在其中定义全部 Windows Terminal 的属性。简单来讲，这个配置文件包含了如下的几个部分：</p>

<ul>
<li>全局属性：位于 JSON 最外侧，包含有设置亮暗主题、默认 Profile 等项目的配置。</li>
<li>环境入口 profiles：一个列表，其中包含有 Windows Terminal 下拉菜单中唤起的各种环境（比如打开 PowerShell 环境、WSL 环境或 SSH 至远程服务器的环境……）与各种环境里 Windows Terminal 的显示方案（比如字体、背景、色彩方案等）。</li>
<li>配色主题 schemes：一个配色方案列表，其中包含有 Windows Terminal 在上一项「环境入口」中可以调用的「色彩主题」。</li>
<li>快捷键绑定 keybindings：自定义快捷键。</li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/Terminal-JSON.png" alt="Terminal-JSON" class="lazyload"><figcaption class="image-caption">Terminal-JSON</figcaption></figure></p>

<h2 id="在配置文件中对-windows-terminal-进行自定义">在配置文件中对 Windows Terminal <strong>进行自定义</strong></h2>

<p>全局属性的配置
设置 Windows Terminal 从设置其全局属性开始，也就是它的配置文件 profiles.json 里面最开始的部分。在这里我们可以定义：</p>

<ul>
<li>Terminal 亮暗主题设置 &ldquo;requestedTheme&rdquo;：可以为 &ldquo;system&rdquo;（跟随系统）、&rdquo;light&rdquo; 或 &ldquo;dark&rdquo;</li>
<li>Terminal 初始大小：&rdquo;initialCols&rdquo; 和 &ldquo;initialRows&rdquo;</li>

<li><p>Terminal 的默认配置文件：设置打开自动进入的环境（通过 GUID 唯一标识码来识别环境）</p></li>

<li><p>……</p></li>
</ul>

<p>之后，就是三个包含二级设置项目：「环境入口」、「配色主题」和「快捷键绑定」的设置。</p>

<h3 id="设置-windows-terminal-的环境入口">设置 Windows Terminal 的环境入口</h3>

<p>下拉菜单是 Windows Terminal 唤起各个环境的入口。我们通过点击「下拉菜单」的各个选项，即可唤起不同的 Windows Terminal 环境。</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/Terminalmenu.png" alt="Terminal-Menu" class="lazyload"><figcaption class="image-caption">Terminal-Menu</figcaption></figure></p>

<p>默认情况下，Windows Terminal 已经为我们配置了本机安装的全部命令行环境：包括 PowerShell 环境、cmd 环境以及自家云服务 Azure Cloud Shell 入口。如果你安装了 WSL（Windows Subsystem for Linux），那么 Windows Terminal 也同样将这一环境自动探测并添加。这些环境，就是 Windows Terminal 配置文件中 &ldquo;profiles&rdquo; 属性列表里面的内容，我们同样可以在这一列表中：</p>

<ul>
<li>自定义某一环境的性质</li>
<li>添加我们自己的环境或命令</li>
</ul>

<h3 id="自定义某一个环境的配置">自定义某一个环境的配置</h3>

<p>Windows Terminal 的环境配置中可以设置其调用命令（<code>commandline</code>）、字体（<code>fontFace</code>）、颜色方案（<code>colorScheme</code>）、背景颜色（<code>background</code>）与背景图片（<code>backgroundImage</code>）等等。这里我想重点介绍一下为 Windows Terminal 一个特定环境的背景进行设置的方法。</p>

<p>Windows Terminal 的背景可以是一个纯色，<strong>也可以是一张高清壁纸、GIF 动图</strong> 等等。如果是纯色的背景，在未经设置的情况下这一颜色与你环境所定义的配色方案的颜色一致，你也可以通过控制 background 这一属性来更换颜色。比如这里我想让 PowerShell 的背景带有一抹独特的「蓝色」，即可这一进行设置：</p>

<pre><code class="language-JSON5">// &quot;profiles&quot;: [ ... ] 项目中 PowerShell 环境的配置
{
    &quot;background&quot;: &quot;#013456&quot;,
    &quot;acrylicOpacity&quot;: 0.8,
    &quot;useAcrylic&quot;: true,
}
</code></pre>

<p>其中：</p>

<ul>
<li>&ldquo;<code>background</code>&rdquo; 与后面的 HEX 颜色即定义了背景颜色</li>
<li>&ldquo;<code>useAcrylic</code>&rdquo; 表示我们背景会添加 Windows Fluent 设计风格的亚克力着色</li>
<li>&ldquo;<code>acrylicOpacity</code>&rdquo; 定义了亚克力效果的透明度</li>
</ul>

<p>当然，背景的设置不止步于此，我们可以直接一张图片作为 Windows Terminal 的背景，不仅可以用于装饰，还可以用于提醒我们当前所在环境。</p>

<p>首先我们需要进入 Windows Terminal 的素材文件夹，也就是 Windows Terminal 安装目录 <code>C:\Users\{用户名}\AppData\Local\Packages\Microsoft.WindowsTerminal_8wekyb3d8bbwe</code> 里面的 <code>RoamingState</code> 这一文件夹，将挑选好的「壁纸」背景放入其中，并记下其文件名。比如，这里我挑选了一张非常有 Windows 特色的壁纸（下载：<a href="https://wallpaperhub.app/wallpapers/6277" rel="nofollow noreferrer" target="_blank">Untitled Goose Wallpaper</a>），将之命名为 goose.png：</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/terBackgroundImg.png" alt="Windows 特色桌面壁纸" class="lazyload"><figcaption class="image-caption">Windows 特色桌面壁纸</figcaption></figure></p>

<p>后，在 Windows Terminal PowerShell 的配置模块，我们加入如下的内容，依次定义：</p>

<ul>
<li>&ldquo;<code>backgroundImage</code>&ldquo;：设置背景图片为 goose.png，具体素材路径的语法格式为 <code>ms-appdata:///roaming/{图片名}</code></li>
<li>&ldquo;<code>backgroundImageStretchMode</code>&ldquo;：设置背景图片伸缩模式为「按比例放大」</li>
<li>&ldquo;<code>backgroundImageOpacity</code>&ldquo;：设置背景图片透明度为 0.6</li>
</ul>

<pre><code class="language-json5">&quot;backgroundImage&quot;: &quot;ms-appdata:///roaming/goose.png&quot;,
&quot;backgroundImageStretchMode&quot;: &quot;uniformToFill&quot;,
&quot;backgroundImageOpacity&quot;: 0.6,
</code></pre>

<p>这样，我们就得到了一个非常 Windows 风格的 PowerShell 终端环境：</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/windowsTerminalBg.png" alt="Windows 奥里给！" class="lazyload"><figcaption class="image-caption">Windows 奥里给！</figcaption></figure></p>

<p>当然，我们同样可以为其他环境配置相应的背景图案。为 Windows Terminal 的环境设置背景，还可以提示我们当前所处的位置，防止在生产环境做出错误的操作等。</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/difrentbg.png" alt="WSL - Ubuntu 环境 / Windows 环境！" class="lazyload"><figcaption class="image-caption">WSL - Ubuntu 环境 / Windows 环境！</figcaption></figure></p>

<h3 id="启动环境时自动运行命令">启动环境时自动运行命令</h3>

<p>Windows Terminal 唤起环境时，实际上是通过执行环境入口配置里面 commandline 这一属性所定义的命令，来进入相应的环境。<strong>那么，我们可以在点击 Windows Terminal 下拉菜单唤起一个环境时，执行我们自定义的一个命令</strong>。这一命令可以是 SSH 登录远程服务器，可以是调用其他系统环境（比如 Anaconda 环境）等等。我们以 SSH 远程登录为例子，具体介绍如何利用 commandline 这一属性。</p>

<p>默认最简单的环境就是 Windows Terminal 的 cmd 环境了，其 profile 定义为：</p>

<pre><code class="language-json5">{
  // Make changes here to the cmd.exe profile
  &quot;guid&quot;: &quot;{0caa0dad-35be-5f56-a8ff-afceeeaa6101}&quot;,
  &quot;name&quot;: &quot;cmd&quot;,
  &quot;commandline&quot;: &quot;cmd.exe&quot;
}
</code></pre>

<p>可以看到，事实上这一环境仅定义了 <code>&quot;commandline&quot;: &quot;cmd.exe&quot;</code>，也就是在 Windows Terminal 唤起环境时执行 cmd.exe 这一命令，从而自动进入 cmd 环境。于是，我们只要添加一个执行 SSH 登录服务器的命令的环境配置，即可自动进入远程服务器环境。比如，我们登录服务器的命令是非常简单的：</p>

<pre><code class="language-sh">ssh root@10.0.0.1
</code></pre>

<p>即：在 PowerShell 环境下，执行上述命令，以 root 身份登录内网 IP 为 10.0.0.12 的服务器（手动输入密码）。那么我们即可这样添加执行这一命令的 Windows Terminal 环境入口：</p>

<ul>
<li>使用 <a href="https://www.uuidgenerator.net/" rel="nofollow noreferrer" target="_blank">在线 UUID 生成器</a> 生成独一无二的 UUID：</li>
</ul>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/guuid.png" alt="UUID：" class="lazyload"><figcaption class="image-caption">UUID：</figcaption></figure></p>

<ul>
<li>在 &ldquo;<code>profiles</code>&rdquo; 列表中新建一个最简的环境入口配置，填写 UUID、环境名称、以及具体命令（注意这里我们需要指定用 powershell.exe，否则可能默认使用 cmd 环境）：</li>
</ul>

<pre><code class="language-json5">{
  &quot;guid&quot;: &quot;{a060905f-d089-43d9-9422-cd748e7f0230}&quot;,
  &quot;name&quot;: &quot;SSH&quot;,
  &quot;commandline&quot;: &quot;powershell.exe ssh root@10.0.0.1&quot;
}
</code></pre>

<ul>
<li>为了更加美观实用，我们还可以添加一个图标。我事先准备了一个 GPU 的图标并将之命名为 gpu.png（因为我这台内网服务器是学校训练用的 GPU 服务器），将图标同样放置在 Windows Terminal 素材文件夹 RoamingState 里，并向刚刚创建的环境入口配置中填入图标的定义：</li>
</ul>

<pre><code class="language-json5">{
  &quot;icon&quot;: &quot;ms-appdata:///roaming/gpu.png&quot;
}
</code></pre>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/customIocn.png" alt="自定义 profile 与对应图标" class="lazyload"><figcaption class="image-caption">自定义 profile 与对应图标</figcaption></figure></p>

<p>这样，我们就可以直接唤起这一命令，执行 SSH 登录，进入远程服务器环境。</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/ssh-login.gif" alt="直接点击标签页即可执行相应的登录命令" class="lazyload"><figcaption class="image-caption">直接点击标签页即可执行相应的登录命令</figcaption></figure></p>

<p>想要寻找更多图标的同学，可以在 <a href="https://icons8.com/" rel="nofollow noreferrer" target="_blank">icons8</a>、<a href="https://www.iconfont.cn/" rel="nofollow noreferrer" target="_blank">iconfont</a> 等网站上进行搜索，特别是 icons8 的图标，非常精致，且同一类别风格一致，96px 的尺寸也足够用于 Windows Terminal 上，推荐大家使用！</p>

<p>另外，如果你日常使用的环境是 WSL 环境并使用 mosh 进行 SSH 登录（因为 mosh 并不支持 Windows），你同样可以在 commandline 一处将命令设置为：</p>

<pre><code class="language-json5">{
  &quot;commandline&quot;: &quot;wsl.exe mosh root@10.0.0.1&quot;
}
</code></pre>

<p>这样依然可以正常执行相应的操作：进入 WSL 环境 » 执行 Linux 独占工具。</p>

<h2 id="添加额外的配色主题">添加额外的配色主题</h2>

<p>Windows Terminal 的色彩主题同样是 JSON 文件，我们可以在上文介绍的 <code>profiles.json</code> 文件的 schemes 属性处，添加自定义的色彩主题。可能是全网最丰富的终端配色方案集合：<a href="https://github.com/mbadolato/iTerm2-Color-Schemes" rel="nofollow noreferrer" target="_blank">iTerm2 Color Schemes</a>，就包含有为 Windows Terminal 提供的 200 余中色彩方案，位于 windowsterminal 文件夹中。（主题的样式预览可以在 <a href="https://iterm2colorschemes.com/" rel="nofollow noreferrer" target="_blank">iTerm2 Color Scheme</a> 的官网 查看。）</p>

<pre><code class="language-json5">{
    // Make changes here to the powershell.exe profile
    &quot;guid&quot;: &quot;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&quot;,
    &quot;name&quot;: &quot;Windows PowerShell&quot;,
    &quot;commandline&quot;: &quot;powershell.exe&quot;,
    &quot;fontFace&quot;: &quot;FantasqueSansMono NF&quot;,
    &quot;backgroundImage&quot;: &quot;ms-appdata:///roaming/goose.png&quot;,
    &quot;backgroundImageStretchMode&quot;: &quot;uniformToFill&quot;,
    &quot;backgroundImageOpacity&quot;: 0.3,
    &quot;colorScheme&quot;: &quot;BlulocoDark&quot;, // 主题
    &quot;hidden&quot;: false
},
</code></pre>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/theneColor.png" alt="自定义主题" class="lazyload"><figcaption class="image-caption">自定义主题</figcaption></figure></p>

<h2 id="自定义-windows-terminal-的快捷键">自定义 Windows Terminal 的快捷键</h2>

<p>在 Windows Terminal 的配置文件末尾，我们可以在 &ldquo;keybindings&rdquo;: [] 里定义其快捷键绑定。默认的 Windows Terminal 快捷键实际上就非常好用，可以用来快速开启某个环境、实施分屏操作等。这里举几个比较典型的、无需设置即可使用的例子：</p>

<ul>
<li>Ctrl + Shift + T 打开新标签页</li>
<li>Ctrl + Shift + 1 进入配置文件中定义的第一个环境（Ctrl + Shift + 2 进入第二个，以此类推）</li>
<li>Alt + Shift + - 横向分屏；Alt + Shift + + 纵向分屏</li>
<li>Ctrl + + 放大、Ctrl + - 缩小、Ctrl + 0 恢复默认缩放比例</li>
<li>……</li>
</ul>

<p>我们可以在按住 Alt 的时候，点击 Windows Terminal 下拉菜单的「设置」，进入 Windows Terminal 自动生成的默认配置文件（不要更改这一文件，更改也不会有用的！）。在文件的最后，有 Windows Terminal 默认快捷键绑定可以参考：</p>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/keybindings.png" alt="keybindings" class="lazyload"><figcaption class="image-caption">keybindings</figcaption></figure></p>

<h2 id="如何更快地进入工作环境">如何更快地进入工作环境</h2>

<p>从 <a href="https://devblogs.microsoft.com/commandline/windows-terminal-preview-v0-9-release/" rel="nofollow noreferrer" target="_blank">Windows Terminal v0.9</a> 版本开始，Windows Terminal 支持了「命令行参数」。也就是说，我们现在可以用 <code>wt -xxx</code> 的命令来唤起 <code>Windows Terminal</code> 打开不同的环境、进入特定的目录，设置直接设置分屏、同时打开多个标签页等。</p>

<p>举几个比较常用的「命令行参数」的例子：</p>

<ul>
<li>在当前路径下进入默认的 Windows Terminal 环境：</li>
</ul>

<pre><code class="language-sh">wt -d .
</code></pre>

<ul>
<li>使用名为 Ubuntu 的 WSL 环境打开当前路径：</li>
</ul>

<pre><code class="language-sh">wt -p &quot;Ubuntu&quot; -d .
</code></pre>

<ul>
<li>垂直分屏打开 PowerShell 与 WSL 环境：</li>
</ul>

<pre><code class="language-sh">wt -p &quot;Windows PowerShell&quot; -d . ; split-pane -V -p &quot;Ubuntu&quot; -d .
</code></pre>

<p><figure><img src="/ring.svg" data-sizes="auto" data-src="/images/totalimgs/split-pane.gif" alt="垂直分屏打开 PowerShell 与 WSL 环境" class="lazyload"><figcaption class="image-caption">垂直分屏打开 PowerShell 与 WSL 环境</figcaption></figure></p>

<p>注：完整的 Windows Terminal 命令行参数文档位于 <a href="https://github.com/microsoft/terminal/blob/master/doc/user-docs/UsingCommandlineArguments.md" rel="nofollow noreferrer" target="_blank">Using the wt.exe Commandline</a></p>

<h2 id="我的配置">我的配置</h2>

<h3 id="profile-json">profile.json</h3>

<pre><code class="language-json5">{
  &quot;$schema&quot;: &quot;https://aka.ms/terminal-profiles-schema&quot;,
  &quot;defaultProfile&quot;: &quot;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&quot;,
  &quot;profiles&quot;:
  {
    &quot;list&quot;:
    [
      {
        // Make changes here to the powershell.exe profile
        &quot;guid&quot;: &quot;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&quot;,
        &quot;name&quot;: &quot;Windows PowerShell&quot;,
        &quot;commandline&quot;: &quot;powershell.exe&quot;,
        &quot;fontFace&quot;: &quot;FantasqueSansMono NF&quot;,
        &quot;backgroundImage&quot;: &quot;ms-appdata:///roaming/goose.png&quot;,
        &quot;backgroundImageStretchMode&quot;: &quot;uniformToFill&quot;,
        &quot;backgroundImageOpacity&quot;: 0.3,
        &quot;colorScheme&quot;: &quot;BlulocoDark&quot;,
        &quot;hidden&quot;: false
      },
    ]
  },
  // Add custom color schemes to this array
  &quot;schemes&quot;: [
    {
      &quot;name&quot;: &quot;BlulocoDark&quot;,
      &quot;black&quot;: &quot;#4a505d&quot;,
      &quot;red&quot;: &quot;#f81141&quot;,
      &quot;green&quot;: &quot;#23974a&quot;,
      &quot;yellow&quot;: &quot;#fd7e57&quot;,
      &quot;blue&quot;: &quot;#285bff&quot;,
      &quot;purple&quot;: &quot;#8c62fd&quot;,
      &quot;cyan&quot;: &quot;#366f9a&quot;,
      &quot;white&quot;: &quot;#ccd5e5&quot;,
      &quot;brightBlack&quot;: &quot;#61697a&quot;,
      &quot;brightRed&quot;: &quot;#fc4a6d&quot;,
      &quot;brightGreen&quot;: &quot;#37bd58&quot;,
      &quot;brightYellow&quot;: &quot;#f6be48&quot;,
      &quot;brightBlue&quot;: &quot;#199ffd&quot;,
      &quot;brightPurple&quot;: &quot;#fc58f6&quot;,
      &quot;brightCyan&quot;: &quot;#50acae&quot;,
      &quot;brightWhite&quot;: &quot;#ffffff&quot;,
      &quot;background&quot;: &quot;#1e2127&quot;,
      &quot;foreground&quot;: &quot;#abb2bf&quot;
    },
  ],
  ...
}
</code></pre>

<h3 id="windowspowershell-microsoft-powershell-profile-ps1">WindowsPowerShell\Microsoft.PowerShell_profile.ps1</h3>

<ul>
<li><a href="https://github.com/joonro/Get-ChildItemColor" rel="nofollow noreferrer" target="_blank">Get-ChildItemColor</a></li>
</ul>

<pre><code class="language-ps">Import-Module Get-ChildItemColor

$env:PYTHONIOENCODING=&quot;utf-8&quot;
# Remove curl alias
If (Test-Path Alias:curl) {Remove-Item Alias:curl}
If (Test-Path Alias:curl) {Remove-Item Alias:curl}
# Remove-Item alias:ls -force
Set-Alias l Get-ChildItemColor -option AllScope
Set-Alias ls Get-ChildItemColorFormatWide -option AllScope

function GitLogPretty {
  git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --all
}

function PrettyLS {
  colorls --light -A
}

function GitStat {git status}

function GoBack {Set-Location ..}

function GetMyIp {curl -L tool.lu/ip}
function UpdateScoop {scoop update; scoop update *}

Import-Module posh-git
Import-Module oh-my-posh
# $DefaultUser = 'spenc'

# Setup other alias
Set-Alias open Invoke-Item
Set-Alias .. GoBack
Set-Alias glola GitLogPretty
Set-Alias gst GitStat
Set-Alias myip GetMyIp
Set-Alias pls PrettyLS

Set-Theme Robbyrussell

Set-PSReadlineKeyHandler -Key Tab -Function MenuComplete
</code></pre>

<h3 id="windows-下-shift-win-s-截图路径为-c-users-用户-appdata-local-packages-microsoft-windows-shellexperiencehost-cw5n1h2txyewy-tempstate-screenclip">windows 下 shift+win+s 截图路径为 <code>C:\Users\{用户}\AppData\Local\Packages\Microsoft.Windows.ShellExperienceHost_cw5n1h2txyewy\TempState\ScreenClip</code></h3>

    </div>

    <div class="post-copyright">
        
        <p class="copyright-item">
            <span>Author:</span>
            <span>Magic </span>
        </p>
        

        <p class="copyright-item">
            <span>Words:</span>
            <span>848</span>
        </p>

        <p class="copyright-item">
            
            <span>Share:</span>
            <span>

      
        <a href="//twitter.com/share?url=%2f2020%2fwindowsterminal%2f&amp;text=Windows%20Terminal%20%e7%be%8e%e5%8c%96&amp;via=" target="_blank" title="Share on Twitter">
          <i class="iconfont icon-twitter"></i>
        </a>
        
      
      
        <a href="//www.facebook.com/sharer/sharer.php?u=%2f2020%2fwindowsterminal%2f" target="_blank" title="Share on Facebook">
          <i class="iconfont icon-facebook"></i>
        </a>
        
      
      
      
      
      
      
        
      
        
      

          

          

          

          
        <a href="//service.weibo.com/share/share.php?url=%2f2020%2fwindowsterminal%2f&amp;appkey=&amp;title=Windows%20Terminal%20%e7%be%8e%e5%8c%96" target="_blank" title="Share on Douban ">
            <i class="iconfont icon-weibo"></i>
          </a>
          
</span>
        </p>
        

        
        <p class="copyright-item">
            Released under <a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a>
        </p>
        
    </div>


    <div class="post-tags">
        
        <section>
            <i class="iconfont icon-icon-tag"></i>Tag:
            
            <span class="tag"><a href="/tags/%E6%9D%82%E9%A1%B9/">
                    #杂项</a></span>
            
            <span class="tag"><a href="/tags/windows-terminal/">
                    #Windows Terminal</a></span>
            
        </section>
        
        <section>
            <a href="javascript:window.history.back();">Back</a></span> ·
            <span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="/2020/%E4%BB%A3%E7%90%86%E7%9B%B8%E5%85%B3/" class="prev" rel="prev" title="常用代理设置汇总"><i
                class="iconfont icon-dajiantou"></i>&nbsp;常用代理设置汇总</a>
        
        
    </div>

    <div class="post-comment">
        
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'yourdiscussshortname';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  


        
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2017 - 2020</span>
        
         
            <span class="author" itemprop="copyrightHolder"><a href="/">Magic</a> | </span>
         

		  <span>Crafted with ❤️ by <a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="external nofollow noopener noreffer">KeepIt</a> & <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a></span>
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.12/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  







     </div>
  </body>
</html>
