<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
  
  
  
  
  <link rel="prev" href="/2018/%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0this%E7%9A%84%E6%8C%87%E5%90%91/" />
  <link rel="next" href="/2018/mysql/" />
  <link rel="canonical" href="/2018/miniprograms/" />
  <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           MiniPrograms | Magic
       
  </title>
  <meta name="title" content="MiniPrograms | Magic">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MiniPrograms"/>
<meta name="twitter:description" content="小程序相关"/>

  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "MiniPrograms",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "\/2018\/miniprograms\/"
  },
  
  "genre": "posts",
  "keywords": "MiniPrograms",
  "wordcount":  1253 ,
  "url": "\/2018\/miniprograms\/",
  "datePublished": "2018-05-21T00:00:00\x2b00:00",
  "dateModified": "2018-05-21T00:00:00\x2b00:00",
  
  "publisher": {
    "@type": "Organization",
    "name": "Magic",
    "logo": {
      "@type": "ImageObject",
      "url": "\/logo.png",
      "width":  50 ,
      "height":  50 
    }
  },
  "author": {
    "@type": "Person",
    "name": "Magic"
  },
  "description": "小程序相关"
}
</script>
</head>

  



  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="/">Magic</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;<a href="/">Magic</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp">
    <header class="post-header">
        <h1 class="post-title">MiniPrograms</h1>
        <div class="post-meta">
            Written by <a href="/"
                rel="author">Magic</a>
            with ♥
            <span class="post-time">
                on <time
                    datetime=2018-05-21>21 May 2018</time>
            </span>
            in
            <i class="iconfont icon-folder"></i>
            <span class="post-category">
                <a href="/categories/miniprograms/"> MiniPrograms </a>
                
            </span>
            <i class="iconfont icon-timer"></i>
            6 min
        </div>
    </header>
    <div class="post-content">
        

        
        
        

        
        

        
        
        

        
        
        

        <h1 id="小程序相关">小程序相关</h1>
<h2 id="原生小程序">原生小程序</h2>
<h3 id="小程序支持分包加载">小程序支持分包加载</h3>
<ul>
<li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/preload.html">分包预下载</a></li>
</ul>
<h3 id="小程序转换为百度小程序">小程序转换为百度小程序</h3>
<ul>
<li>可以使用百度搬家工具进行转换 <strong>（不持支使用框架转换）</strong> ,<code>wx2swan</code><a href="https://github.com/yican008/wx2swan">swan小程序搬家工具</a> <strong>(Node &gt;= 8.0)</strong></li>
</ul>
<h3 id="去掉小程序组件button默认样式">去掉小程序组件button默认样式</h3>
<ul>
<li>小程序中<code>button</code>组建有默认的点击效果，有<code>border</code>的话，需要去掉边框线的话需要这样写。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* 去掉button默认边框线 */</span>
<span style="color:#f92672">button</span>::<span style="color:#a6e22e">after</span> {
  <span style="color:#66d9ef">border</span>: <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>设置成禁用的话<code>disable=&quot;{{disable}}&quot;</code>,<code>disable</code>为 <code>true</code> 的话，点击按钮的时候还是有默认点击效果，如果需求需要去掉默认点击效果，就需要设置成行内样式来生效。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 行内样式 --&gt;</span>
 &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;get-code&#34;</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mini&#34;</span>  <span style="color:#a6e22e">bindtap</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;getCode&#34;</span> <span style="color:#a6e22e">disabled</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{disabled}}&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;color: #00a4ff; background-color: #fff;&#34;</span>&gt;{{getCodeBtn}}&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><h3 id="小程序限制">小程序限制</h3>
<ul>
<li>小程序背景图片不支持相对路径的图片路径，需要设置为绝对路径。</li>
<li>小程序现在默认上传包大小为<code>2M</code>（以后有可能变化），可以把图片资源单独打包成一个项目工程，然后在小程序中去引用图片的绝对路径。</li>
<li>小程序不支持<code>table</code>组件和标签，如果需要的话可用<code>wxss(css)</code>来写表格，然是涉及到表格跨行跨列的话不太好处理，可以换一种展现格式。简单来说就是小程序不支持复杂的表格。</li>
<li>小程序现在支持跳转外部<code>url</code>，需要使用<code>web-view</code>组建来实现，需要在微信公众平台登录，然后在设置里面&ndash;&gt;开发设置来绑定业务域名，并且在业务域名的跟目下放微信检验文件，只有放过之后，在域名跟目下能访问到这个检验文件，在绑定业务域名的时候才能绑定成功。</li>
</ul>
<p><img src="/images/totalimgs/%E6%8D%95%E8%8E%B7.PNG" alt="Alt text"></p>
<ul>
<li>小程序使用 <code>wx.request(OBJECT)</code> 来发起请求时，需要在微信公众平台设置&ndash;&gt;开发设置里面设置服务器域名配置。</li>
</ul>
<p><img src="/images/totalimgs/fuwuqi.png" alt="Alt text"></p>
<ul>
<li>小程序不能操作BOM/DOM。</li>
<li>在 <code>{{}}</code> 模板语法里不持支复杂计算，具体看小程序文档。</li>
<li>小程序文字不能上下居中，尤其是在一个些小的按钮里边。</li>
<li>小程序 canvas 在真机中不支持base64，画不到canvas里面。</li>
<li>小程序获取用户授权之后再能通过 wx.getUserInfo 来获取用户信息，可以通过 button 来发起用户授权。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{isLog ? &#39;&#39; : &#39;button2&#39;}}&#34;</span> <span style="color:#a6e22e">open-type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;getUserInfo&#34;</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;default&#34;</span> <span style="color:#a6e22e">hover-class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;other-button-hover&#34;</span> <span style="color:#a6e22e">bindgetuserinfo</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;login&#34;</span> <span style="color:#a6e22e">disabled</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{loginDisabled}}&#34;</span>&gt;用户授权&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><h3 id="获取系统剪贴板的内容">获取系统剪贴板的内容</h3>
<p>通过 <code>wx.getClipboardData</code> 获取系统剪贴板的内容成功后会有一个默认的 <code>toast</code>提示，内容为<em>内容已复制</em>，可以通过在 <code>success</code>回调中重写<code>toast</code>来修改这个默认提示内容。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">setClipboardData</span>({
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;www.baidu.com&#39;</span>,
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">getClipboardData</span>({
      <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
        <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">showToast</span>({
          <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;去浏览器中打开&#39;</span>,
          <span style="color:#a6e22e">icon</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;none&#39;</span>,
          <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5000</span>
        })
      }
    })
  }
})
</code></pre></div><h3 id="小程序的web-view组件">小程序的web-view组件</h3>
<ul>
<li>
<p>在小程序里需要跳转H5页面，需要增加web-view组件，通过 web-view 的 src 属性去跳转，可以在 web-view 页面里的 js 文件里动态的获取赋值。</p>
</li>
<li>
<p>这个web-view 的 src 链接地址需要在微信公众平台后台 的业务域配置，并且要先在 根域名中放入微信检验文件，可以放多个不同的检验文件。</p>
</li>
<li>
<p>在 web-view 组件中分享可以通过 options.webViewUrl 来获取 url 来连接。</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 分享获取
</span><span style="color:#75715e"></span><span style="color:#75715e">/**
</span><span style="color:#75715e"> * 在分享出去需要携带的 url 上带有多参数的时候需要通过 encodeURIComponent 去编码，否则小程序在分享出去再次获取url 时候会只保留 第一个参数。
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">onShareAppMessage</span> (<span style="color:#a6e22e">options</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">webViewUrl</span>)
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/pages/web-view/web-view?url=&#39;</span> <span style="color:#f92672">+</span> encodeURIComponent(<span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">webViewUrl</span>)
  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>
  }
},
<span style="color:#a6e22e">onLoad</span> (<span style="color:#a6e22e">options</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;options.url&#39;</span>, <span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">url</span>)
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> decodeURIComponent(<span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">url</span>)
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;path&#39;</span>, <span style="color:#a6e22e">path</span>)
  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setData</span>({
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>
  })
}
</code></pre></div><h3 id="在小程序中的方法">在小程序中的方法</h3>
<ul>
<li>小程序需要在页面内点击按钮分享的时候，使用button 组件来发起分享事件(onShareAppMessage)。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;flexCol&#34;</span> <span style="color:#a6e22e">open-type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;share&#34;</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;shareIcon weixinIcon&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;shareText&#34;</span>&gt;分享给好友&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><ul>
<li>小程序分享需要定义分享函数。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">onShareAppMessage</span> (<span style="color:#a6e22e">ops</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;分享&#39;</span>, <span style="color:#a6e22e">ops</span>)
  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;xxxxx&#39;</span>,
    <span style="color:#a6e22e">imageUrl</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;https://www.xxxxx.xx.png&#39;</span>
  }
}
</code></pre></div><ul>
<li>
<p>小程序需要通过 wx.login API 去换取 jsCode，通过jsCode 后台来获取openId(微信用户的唯一标识)。</p>
</li>
<li>
<p>小程序中canvas 或者 通过 wx.createAnimation（动画）需要的是 px 或 number，这个时候就需要通过 wx.getSystemInfoSync 来获取系统信息，来动态的去计算所需的值。</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">systemInfo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">getSystemInfoSync</span>()
<span style="color:#75715e">// 用 系统的宽度 除 设计稿的 宽度  就是 2.48344 现在这个值
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">systemInfo</span>.<span style="color:#a6e22e">windowWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2.48344</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">systemInfo</span>.<span style="color:#a6e22e">windowWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">3.75</span>
<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation1</span>.<span style="color:#a6e22e">translate3d</span>(<span style="color:#f92672">-</span><span style="color:#a6e22e">x</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">z</span>).<span style="color:#a6e22e">step</span>()
</code></pre></div><ul>
<li>在小程序跳转到另一个页面，需要再次返回回来的时候，并且在当前页面需要获取从另一给页面获取相应的数据等，可以在最外定义 pageObj， 在当前页面初次 onLoad 时候 把 this 赋值给 pageObj，在另一个页面完成方法并且通过 wx.navigateBack 返回时，在 success 方法里 可以调用 app.pageObj.onLoad() 掉用前一个页面的方法。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getApp</span>();
<span style="color:#75715e">// index.js
</span><span style="color:#75715e"></span><span style="color:#a6e22e">onLoad</span> (<span style="color:#a6e22e">options</span>) {
  <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">pageObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>
}
<span style="color:#75715e">// login.js
</span><span style="color:#75715e"></span><span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">navigateBack</span>({
  <span style="color:#a6e22e">delta</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
  <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">pageObj</span>.<span style="color:#a6e22e">onLoad</span>();
  }
})
</code></pre></div><h3 id="小程序富文本解析-wxparse">小程序富文本解析 wxParse</h3>
<ul>
<li>.wxml 文件</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">import</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../../utils/wxParse/wxParse.wxml&#34;</span>/&gt;

&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pbd-ct wxParse {{index == curDesc ? &#39;show&#39; : &#39;hidden&#39;}}&#34;</span> <span style="color:#a6e22e">wx:for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{getGoodsDetailD.detailList}}&#34;</span> <span style="color:#a6e22e">wx:key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;detailDesc&#34;</span>&gt;
   &lt;<span style="color:#f92672">block</span> <span style="color:#a6e22e">wx:if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{index==0}}&#34;</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxParse&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{wxParseData:article1.nodes}}&#34;</span>/&gt;
   &lt;/<span style="color:#f92672">block</span>&gt;
    &lt;<span style="color:#f92672">block</span> <span style="color:#a6e22e">wx:elif</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{index==1}}&#34;</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxParse&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{wxParseData:article2.nodes}}&#34;</span>/&gt;
   &lt;/<span style="color:#f92672">block</span>&gt;
    &lt;<span style="color:#f92672">block</span> <span style="color:#a6e22e">wx:elif</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{index==2}}&#34;</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxParse&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{wxParseData:article3.nodes}}&#34;</span>/&gt;
   &lt;/<span style="color:#f92672">block</span>&gt;
   &lt;<span style="color:#f92672">block</span> <span style="color:#a6e22e">wx:else</span>&gt;
    &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxParse&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{wxParseData:article4.nodes}}&#34;</span>/&gt;
   &lt;/<span style="color:#f92672">block</span>&gt;
&lt;/<span style="color:#f92672">view</span>&gt;
</code></pre></div><ul>
<li>对应 js 文件</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">WxParse</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../../utils/wxParse/wxParse.js&#39;</span>) <span style="color:#75715e">//引入富文本插件js部分
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">Page</span>({
  <span style="color:#a6e22e">onLoad</span> () {
    <span style="color:#75715e">// 获取描述信息
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">getGoodsDetail</span> () {
      <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">request</span>({
        ...,
        <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">data</span>) {
          <span style="color:#75715e">// 富文本插件一次只能编译一条数据，详情detailDesc有四条，故需要绑定4个的数据名
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">WxParse</span>.<span style="color:#a6e22e">wxParse</span>(<span style="color:#e6db74">&#39;article1&#39;</span>, <span style="color:#e6db74">&#39;html&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">rspBody</span>.<span style="color:#a6e22e">detailList</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">detailDesc</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;\/o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0dx0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/【/g</span>, <span style="color:#e6db74">&#34;&#34;</span>), <span style="color:#a6e22e">that</span>, <span style="color:#ae81ff">0</span>);
          <span style="color:#a6e22e">WxParse</span>.<span style="color:#a6e22e">wxParse</span>(<span style="color:#e6db74">&#39;article2&#39;</span>, <span style="color:#e6db74">&#39;html&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">rspBody</span>.<span style="color:#a6e22e">detailList</span>[<span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">detailDesc</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;\/o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0dx0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/【/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;u1:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>), <span style="color:#a6e22e">that</span>, <span style="color:#ae81ff">0</span>);
          <span style="color:#a6e22e">WxParse</span>.<span style="color:#a6e22e">wxParse</span>(<span style="color:#e6db74">&#39;article3&#39;</span>, <span style="color:#e6db74">&#39;html&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">rspBody</span>.<span style="color:#a6e22e">detailList</span>[<span style="color:#ae81ff">2</span>].<span style="color:#a6e22e">detailDesc</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;\/o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0dx0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/【/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;u1:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>), <span style="color:#a6e22e">that</span>, <span style="color:#ae81ff">0</span>);
          <span style="color:#a6e22e">WxParse</span>.<span style="color:#a6e22e">wxParse</span>(<span style="color:#e6db74">&#39;article4&#39;</span>, <span style="color:#e6db74">&#39;html&#39;</span>, <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">rspBody</span>.<span style="color:#a6e22e">detailList</span>[<span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">detailDesc</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;\/o:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0dx0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/x0a/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/【/g</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;u1:p&gt;/g</span>, <span style="color:#e6db74">&#34;&#34;</span>), <span style="color:#a6e22e">that</span>, <span style="color:#ae81ff">0</span>);
        }
      })
    }
  }
})
</code></pre></div><ul>
<li>对应的 .wxss 样式</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*引入富文本插件wxss部分*/</span>
@<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#34;../../utils/wxParse/wxParse.wxss&#34;</span>;

<span style="color:#75715e">/*富文本插件样式修改*/</span>
.<span style="color:#a6e22e">wxParse-img</span>{
    <span style="color:#66d9ef">width</span>:<span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span> <span style="color:#75715e">!important</span>;
}
<span style="color:#75715e">/*富文本插件编译后，需设置wxParse-pre类才能对富文本原始标签pre样式起作用*/</span>
.<span style="color:#a6e22e">pbd-ct</span> .<span style="color:#a6e22e">wxParse-pre</span> {
    <span style="color:#66d9ef">white-space</span>: <span style="color:#66d9ef">pre</span><span style="color:#f92672">-</span><span style="color:#66d9ef">wrap</span>;
    <span style="color:#66d9ef">word-wrap</span>: <span style="color:#66d9ef">break-word</span>;
}

<span style="color:#75715e">/*富文本插件编译后，需设置wxParse-table类才能对富文本原始标签table样式起作用*/</span>
.<span style="color:#a6e22e">pbd-ct</span>  .<span style="color:#a6e22e">wxParse-table</span> {
     <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span> <span style="color:#75715e">!important</span>;
     <span style="color:#66d9ef">border-collapse</span>: <span style="color:#66d9ef">collapse</span>;
     <span style="color:#66d9ef">border-spacing</span>: <span style="color:#ae81ff">0</span>;
}
.<span style="color:#a6e22e">pbd-ct</span>  .<span style="color:#a6e22e">wxParse-tr</span> {
    <span style="color:#66d9ef">border-right</span>:<span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">border-bottom</span>:<span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">table</span><span style="color:#f92672">-</span><span style="color:#66d9ef">row</span>;
    <span style="color:#66d9ef">vertical-align</span>: <span style="color:#66d9ef">inherit</span>;
    <span style="color:#66d9ef">border-color</span>: <span style="color:#66d9ef">inherit</span>;
}
.<span style="color:#a6e22e">wxParse-th</span><span style="color:#f92672">,</span>.<span style="color:#a6e22e">wxParse-td</span> {
	  <span style="color:#66d9ef">border-left</span>:<span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">vertical-align</span>: <span style="color:#66d9ef">inherit</span>;
}
.<span style="color:#a6e22e">wxParse-td</span> {
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">table</span><span style="color:#f92672">-</span><span style="color:#66d9ef">cell</span>;
}
.<span style="color:#a6e22e">wxParse-td</span>:<span style="color:#a6e22e">first-child</span>{
    <span style="color:#66d9ef">margin-left</span>:<span style="color:#ae81ff">20</span><span style="color:#66d9ef">pt</span>;
}
</code></pre></div><ul>
<li>具体文档可以看富文本解析 <a href="https://github.com/icindy/wxParse">GitHub</a></li>
<li>适用于 Mpvue 的微信小程序富文本解析自定义组件 <a href="https://github.com/F-loat/mpvue-wxParse">GitHub</a></li>
</ul>
<h3 id="小程序指定页面二维码">小程序指定页面二维码</h3>
<ul>
<li>可以看小程序文档获取二维码api文档。</li>
<li>或者 <em>使用 Vue CLI 3 来写的</em> <a href="https://github.com/magicLaLa/GetWxCode">获取微信小程序指定页面二维码</a></li>
</ul>
<h2 id="mpvue小程序开发框架美团">MPVUE小程序开发框架（美团）</h2>
<ul>
<li>
<p><a href="http://mpvue.com/mpvue/quickstart/#4-2018723">MPVUE支持分包</a>，找不到问题可以到<a href="https://github.com/Meituan-Dianping/mpvue/issues">Issues</a>中寻找。</p>
</li>
<li>
<p>获取微信小程序实例，可以通过</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$root</span>.<span style="color:#a6e22e">$mp</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$mp</span> <span style="color:#75715e">// 来获取
</span></code></pre></div><ul>
<li>小程序中弹窗出来，不让页面进行滚动，可以在 遮罩 和 弹窗上增加 <code>catchtouchmove</code></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">!-- 遮罩 --&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isShowModel&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;model&#34;</span> <span style="color:#a6e22e">catchtouchmove</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><ul>
<li>有时候需要和 小程序的生命周期混用。</li>
<li>不支持在组件上绑定事件，例如：<code>@click</code>。如果要子组件中出发父组件事件，使用<code>vuex</code>来统一管理。</li>
<li>不支持使用<code>mapState mapGetters mapActions mapMutations</code> 辅助函数。可以在每个<code>.vue</code>模板中单独引用<code>import store from './store/stroe.js'</code>。然后通过使用 <code>store.commit(...)/store.dispatch(...)</code>来触发事件。</li>
<li>可以在<code>main.js</code>里面设置<code>vue.prototype.store = store</code>，就可以使用辅助函数了。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// src =&gt; store =&gt; index.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vuex</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuex&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Vuex</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">store</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vuex</span>.<span style="color:#a6e22e">Store</span>({
  <span style="color:#a6e22e">state</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">isAn</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#75715e">// 轮播切换
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">isShowModel</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// 是否展示遮罩
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">isShareBox</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// 是否展示分享弹窗
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">systemInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e">// 系统信息
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pageObj</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e">// 页面实例
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">popupFunObj</span><span style="color:#f92672">:</span> { <span style="color:#75715e">// 弹窗两个方法
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">comfirm</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">cancel</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
    },
    <span style="color:#a6e22e">isLogin</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// 是否登录
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">localName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">// 登录地点
</span><span style="color:#75715e"></span>  },
  <span style="color:#a6e22e">mutations</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">change</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">state</span>) =&gt; {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;mutations change&#39;</span>)
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">state</span>
      <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">isAn</span><span style="color:#f92672">++</span>
    },
    <span style="color:#a6e22e">decrement</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">state</span>) =&gt; {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">state</span>
      <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
    }
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">store</span>

<span style="color:#75715e">// src =&gt; main.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./App&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">store</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;@/store/index&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">productionTip</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
<span style="color:#a6e22e">App</span>.<span style="color:#a6e22e">mpType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;app&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">$store</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">store</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>(<span style="color:#a6e22e">App</span>)
<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">$mount</span>()

<span style="color:#75715e">// src =&gt; index =&gt; index.vue
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">mapState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuex&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    ...<span style="color:#a6e22e">mapState</span>([<span style="color:#e6db74">&#39;isShowModel&#39;</span>, <span style="color:#e6db74">&#39;isShareBox&#39;</span>])
  }
}
</code></pre></div><ul>
<li>因为小程序不支持在模板语法里<code>{{}}</code> 复杂的计算，所以在 mpvue 中也不能进行复杂的计算。</li>
<li>在原生小程序中访问下程序实例是通过<code>getApp()</code>来获取定义在<code>app.js中的函数和自定义的属性</code>，在<code>mpVue</code>中在<code>created/mounted/onLoad...</code>中调用<code>getApp()</code>获取不到在<code>app.js</code>中自定义的一些属性，在<code>mpVue</code>中推荐使用<code>VUEX</code>来集中管理公共的自定义的一些属性和方法。</li>
<li>最新版的 app.json 是单独放到 src 下面，不是在 main.js 里面去写自动生成页面路径添加到 pages 里面，每一个 page 也是单独把 main.json 放到单独的页面文件下。</li>
</ul>
<p><img src="/images/totalimgs/APPjson.png" alt="Alt text">
<img src="/images/totalimgs/pagejson.png" alt="Alt text"></p>
<ul>
<li>可以写背景图片，把背景图片放到 <code>src =&gt; assets =&gt; images</code> 下。然后在 scss 中 通过 <code>background: url(~@/assets/images/top.png) no-repeat;</code>来使用，然后需要在 <code>build =&gt; webpack.base.conf.js</code> 修改 module。</li>
</ul>
<p><img src="/images/totalimgs/imgimg.png" alt="Alt text"></p>
<ul>
<li>也可以使用精灵图（雪碧图）来写， 具体代码如下:</li>
</ul>
<p>webpack.base.conf.js</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// 自动雪碧图
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">spritesmith</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack-spritesmith&#39;</span>)

<span style="color:#75715e">// 雪碧图位置
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">SPRITES</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;../src/sprites/&#39;</span>)
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">SPRITES_SUB</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;../src/sprites/*&#39;</span>)

<span style="color:#75715e">// 雪碧图方法
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">generateSprites</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">glob</span>.<span style="color:#a6e22e">sync</span>(<span style="color:#a6e22e">SPRITES_SUB</span>).<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">filenames</span> =&gt; {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">pathName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">filenames</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#a6e22e">SPRITES</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">spritesmith</span>({
      <span style="color:#a6e22e">src</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">cwd</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">SPRITES</span>, <span style="color:#a6e22e">pathName</span>),
        <span style="color:#a6e22e">glob</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;*.png&#39;</span>
      },
      <span style="color:#a6e22e">target</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">image</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;../src/sprite-generate/sprite-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">pathName</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.png&#39;</span>),
        <span style="color:#a6e22e">css</span><span style="color:#f92672">:</span> [
          [
            <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;../src/sprite-generate/_sprite-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">pathName</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.scss&#39;</span>),
            {
              <span style="color:#a6e22e">format</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;handlebars_based_template&#39;</span>
            }
          ]
        ]
      },
      <span style="color:#a6e22e">apiOptions</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">cssImageRef</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;~sprite-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">pathName</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.png&#39;</span>
      },
      <span style="color:#a6e22e">customTemplates</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">handlebars_based_template</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;../scss.template.handlebars&#39;</span>)
      },
      <span style="color:#a6e22e">spritesmithOptions</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">padding</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6</span>
      }
    })

  })
}

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  ...,
  <span style="color:#a6e22e">resolve</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">extensions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;.js&#39;</span>, <span style="color:#e6db74">&#39;.vue&#39;</span>, <span style="color:#e6db74">&#39;.json&#39;</span>],
    <span style="color:#a6e22e">modules</span><span style="color:#f92672">:</span> [
      <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;src&#39;</span>),
      <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;node_modules&#39;</span>),
      <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;src/sprite-generate&#39;</span>)
    ],
    <span style="color:#a6e22e">alias</span><span style="color:#f92672">:</span> {
      <span style="color:#e6db74">&#39;vue&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;mpvue&#39;</span>,
      <span style="color:#e6db74">&#39;@&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resolve</span>(<span style="color:#e6db74">&#39;src&#39;</span>)
    },
    <span style="color:#a6e22e">symlinks</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
    <span style="color:#a6e22e">aliasFields</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;mpvue&#39;</span>, <span style="color:#e6db74">&#39;weapp&#39;</span>, <span style="color:#e6db74">&#39;browser&#39;</span>],
    <span style="color:#a6e22e">mainFields</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;browser&#39;</span>, <span style="color:#e6db74">&#39;module&#39;</span>, <span style="color:#e6db74">&#39;main&#39;</span>]
  },
  <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span> [
    ............,
    ...<span style="color:#a6e22e">generateSprites</span>()
  ]
}
</code></pre></div><p>需要在 <code>src =&gt; sprite-generate | sprites</code> 新建这两个文件夹。</p>
<p><img src="/images/totalimgs/generateSprites.png" alt="Alt text"></p>
<h3 id="动画切换效果">动画切换效果</h3>
<ul>
<li>动画效果如下：</li>
</ul>
<p><img src="/images/totalimgs/ic.gif" alt="图片"></p>
<ul>
<li>模板.vue</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;head&#34;</span>&gt;
    <span style="color:#75715e">&lt;!--</span> <span style="color:#a6e22e">卡片切换</span> <span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cardBox&#34;</span>&gt;
      <span style="color:#75715e">&lt;!--</span> <span style="color:#a6e22e">左按钮</span> <span style="color:#f92672">--&gt;</span>
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;iconBtn leftBtn&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">-isAct</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">btn</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;change&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
      <span style="color:#960050;background-color:#1e0010">&lt;!--</span> <span style="color:#a6e22e">右按钮</span> <span style="color:#960050;background-color:#1e0010">--</span>&gt;
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;iconBtn rightBtn&#34;</span> <span style="color:#a6e22e">data</span><span style="color:#f92672">-isAct</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">btn</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;change&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
      <span style="color:#960050;background-color:#1e0010">&lt;!--</span> <span style="color:#a6e22e">图片</span> <span style="color:#960050;background-color:#1e0010">--</span>&gt;
      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;picBox&#34;</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;change&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">animation</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isAn%2 !== 0 ? animationData : animationData2&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">data</span><span style="color:#f92672">-isAct</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">isAn</span><span style="color:#960050;background-color:#1e0010">%</span><span style="color:#a6e22e">2</span> <span style="color:#960050;background-color:#1e0010">!==</span> <span style="color:#a6e22e">0</span> <span style="color:#960050;background-color:#1e0010">?</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">isActive</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">btn</span><span style="color:#960050;background-color:#1e0010">&#39;&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;picIcon bigMac&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isAn%2 !== 0 ? &#39;isActive&#39; : &#39;&#39;&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;change&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">animation</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isAn%2 === 0 ? animationData : animationData2&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">data</span><span style="color:#f92672">-isAct</span><span style="color:#960050;background-color:#1e0010">=&#34;</span><span style="color:#a6e22e">isAn</span><span style="color:#960050;background-color:#1e0010">%</span><span style="color:#a6e22e">2 </span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">==</span> <span style="color:#a6e22e">0</span> <span style="color:#960050;background-color:#1e0010">?</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">isActive</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">btn</span><span style="color:#960050;background-color:#1e0010">&#39;&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;picIcon youngIcon&#34;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isAn%2 === 0 ? &#39;isActive&#39; : &#39;&#39;&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">mapState</span>, <span style="color:#a6e22e">mapMutations</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuex&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">data</span> () {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">animation1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">animation2</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
      <span style="color:#a6e22e">animationData</span><span style="color:#f92672">:</span> {},
      <span style="color:#a6e22e">animationData2</span><span style="color:#f92672">:</span> {}
    }
  },
  <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
    ...<span style="color:#a6e22e">mapState</span>([<span style="color:#e6db74">&#39;isAn&#39;</span>, <span style="color:#e6db74">&#39;systemInfo&#39;</span>])
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    ...<span style="color:#a6e22e">mapMutations</span>([<span style="color:#e6db74">&#39;change&#39;</span>])
  },
  <span style="color:#a6e22e">mounted</span> () {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;systemInfo&#39;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">systemInfo</span>)
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">systemInfo</span>.<span style="color:#a6e22e">windowWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2.48344</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">systemInfo</span>.<span style="color:#a6e22e">windowWidth</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">3.75</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> {
      <span style="color:#a6e22e">duration</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000</span>,
      <span style="color:#a6e22e">timingFunction</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ease&#39;</span>
    }
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">createAnimation</span>(<span style="color:#a6e22e">options</span>)
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">wx</span>.<span style="color:#a6e22e">createAnimation</span>(<span style="color:#a6e22e">options</span>)
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation1</span>.<span style="color:#a6e22e">translate3d</span>(<span style="color:#f92672">-</span><span style="color:#a6e22e">x</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">z</span>).<span style="color:#a6e22e">step</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation2</span>.<span style="color:#a6e22e">translate3d</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>).<span style="color:#a6e22e">step</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animationData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation1</span>.<span style="color:#66d9ef">export</span>()
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animationData2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">animation2</span>.<span style="color:#66d9ef">export</span>()
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;scss&#34;</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">cardBox</span> {
  <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
  <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">224</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">padding</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">32</span><span style="color:#a6e22e">px</span>;
  <span style="color:#a6e22e">box</span><span style="color:#f92672">-</span><span style="color:#a6e22e">sizing</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">border</span><span style="color:#f92672">-</span><span style="color:#a6e22e">box</span>;
  <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">absolute</span>;
  <span style="color:#a6e22e">bottom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>;

  .<span style="color:#a6e22e">iconBtn</span> {
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30</span><span style="color:#a6e22e">px</span>;
    <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">60</span><span style="color:#a6e22e">px</span>;
    <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">absolute</span>;
    <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>;
    <span style="color:#a6e22e">transform</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">translateY</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>);
    <span style="color:#a6e22e">z</span><span style="color:#f92672">-</span><span style="color:#a6e22e">index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>;
  }

  .<span style="color:#a6e22e">leftBtn</span> {
    <span style="color:#a6e22e">background</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">url</span>(<span style="color:#f92672">~</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#f92672">/</span><span style="color:#a6e22e">assets</span><span style="color:#f92672">/</span><span style="color:#a6e22e">images</span><span style="color:#f92672">/</span><span style="color:#a6e22e">leftBtn</span>.<span style="color:#a6e22e">png</span>) <span style="color:#a6e22e">no</span><span style="color:#f92672">-</span><span style="color:#a6e22e">repeat</span>;
    <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
    <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">32</span><span style="color:#a6e22e">px</span>;
  }
  .<span style="color:#a6e22e">rightBtn</span> {
    <span style="color:#a6e22e">background</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">url</span>(<span style="color:#f92672">~</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#f92672">/</span><span style="color:#a6e22e">assets</span><span style="color:#f92672">/</span><span style="color:#a6e22e">images</span><span style="color:#f92672">/</span><span style="color:#a6e22e">rightBtn</span>.<span style="color:#a6e22e">png</span>) <span style="color:#a6e22e">no</span><span style="color:#f92672">-</span><span style="color:#a6e22e">repeat</span>;
    <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
    <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">32</span><span style="color:#a6e22e">px</span>;
  }

  .<span style="color:#a6e22e">picBox</span> {
    <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
    <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
    <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">relative</span>;
    <span style="color:#a6e22e">z</span><span style="color:#f92672">-</span><span style="color:#a6e22e">index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>;
    <span style="color:#a6e22e">perspective</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000</span><span style="color:#a6e22e">px</span>;

    .<span style="color:#a6e22e">picIcon</span> {
      <span style="color:#a6e22e">width</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">281</span><span style="color:#a6e22e">px</span>;
      <span style="color:#a6e22e">height</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">132</span><span style="color:#a6e22e">px</span>;
      <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">absolute</span>;
      <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>;
      <span style="color:#a6e22e">margin</span><span style="color:#f92672">-</span><span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">67</span><span style="color:#a6e22e">px</span>;
      <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span><span style="color:#a6e22e">px</span>;
    }

    .<span style="color:#a6e22e">bigMac</span> {
      <span style="color:#a6e22e">background</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">url</span>(<span style="color:#f92672">~</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#f92672">/</span><span style="color:#a6e22e">assets</span><span style="color:#f92672">/</span><span style="color:#a6e22e">images</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bigMac</span>.<span style="color:#a6e22e">png</span>) <span style="color:#a6e22e">no</span><span style="color:#f92672">-</span><span style="color:#a6e22e">repeat</span>;
      <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
      <span style="color:#a6e22e">z</span><span style="color:#f92672">-</span><span style="color:#a6e22e">index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>;
    }
    .<span style="color:#a6e22e">youngIcon</span> {
      <span style="color:#a6e22e">background</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">url</span>(<span style="color:#f92672">~</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#f92672">/</span><span style="color:#a6e22e">assets</span><span style="color:#f92672">/</span><span style="color:#a6e22e">images</span><span style="color:#f92672">/</span><span style="color:#a6e22e">youngIcon</span>.<span style="color:#a6e22e">png</span>) <span style="color:#a6e22e">no</span><span style="color:#f92672">-</span><span style="color:#a6e22e">repeat</span>;
      <span style="color:#a6e22e">background</span><span style="color:#f92672">-</span><span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span> <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
      <span style="color:#a6e22e">z</span><span style="color:#f92672">-</span><span style="color:#a6e22e">index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>;
    }

    .<span style="color:#a6e22e">isActive</span> {
      <span style="color:#a6e22e">box</span><span style="color:#f92672">-</span><span style="color:#a6e22e">shadow</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span><span style="color:#a6e22e">px</span> <span style="color:#ae81ff">0</span><span style="color:#a6e22e">px</span> <span style="color:#ae81ff">21</span><span style="color:#a6e22e">px</span> <span style="color:#ae81ff">5</span><span style="color:#a6e22e">px</span>
        <span style="color:#a6e22e">rgba</span>(<span style="color:#ae81ff">228</span>, <span style="color:#ae81ff">229</span>, <span style="color:#ae81ff">245</span>, <span style="color:#ae81ff">0.8</span>);
      <span style="color:#a6e22e">border</span><span style="color:#f92672">-</span><span style="color:#a6e22e">radius</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">16</span><span style="color:#a6e22e">px</span>;
      <span style="color:#a6e22e">z</span><span style="color:#f92672">-</span><span style="color:#a6e22e">index</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>;
    }
  }
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// store =&gt; index.js
</span><span style="color:#75715e">// https://vuex.vuejs.org/zh-cn/intro.html
</span><span style="color:#75715e">// make sure to call Vue.use(Vuex) if using a module system
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vuex</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuex&#39;</span>

<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Vuex</span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">store</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vuex</span>.<span style="color:#a6e22e">Store</span>({
  <span style="color:#a6e22e">state</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">isAn</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#75715e">// 轮播切换
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">isShowModel</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// 是否展示遮罩
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">systemInfo</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">// 系统信息
</span><span style="color:#75715e"></span>  },
  <span style="color:#a6e22e">mutations</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">change</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">e</span>) =&gt; {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">state</span>
      <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!!</span><span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">mp</span>.<span style="color:#a6e22e">currentTarget</span>.<span style="color:#a6e22e">dataset</span>.<span style="color:#a6e22e">isact</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">mp</span>.<span style="color:#a6e22e">currentTarget</span>.<span style="color:#a6e22e">dataset</span>.<span style="color:#a6e22e">isact</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;isActive&#39;</span>) {
        <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">isAn</span><span style="color:#f92672">++</span>
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">isAn</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">!==</span> <span style="color:#ae81ff">0</span>) {
          <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">webViewUrl</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.google.com&#39;</span>
        } <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">isAn</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
          <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">webViewUrl</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.baidu.com&#39;</span>
        }
      }
    }
  }
})

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">store</span>
</code></pre></div><ul>
<li><strong>MPVUE</strong> 现在也支持 <a href="http://smartprogram.baidu.com/mappconsole/main/login">百度小程序</a></li>
</ul>
<h2 id="okam小程序开发框架百度">OKAM小程序开发框架（百度）</h2>
<ul>
<li><a href="https://ecomfe.github.io/okam/#/">奥卡姆，一个面向小程序开发的开发框架，提供类_Vue_的开发体验</a></li>
</ul>
<h4 id="小程序支持">小程序支持</h4>
<ul>
<li>√ <a href="https://smartprogram.baidu.com/docs/introduction/enter_application/">百度小程序</a></li>
<li>√ <a href="https://developers.weixin.qq.com/miniprogram/dev/">微信小程序</a></li>
<li>√ <a href="https://docs.alipay.com/mini/developer/getting-started">支付宝小程序</a></li>
<li>√ <a href="https://developer.toutiao.com/docs/">头条小程序</a></li>
<li>√ <a href="https://www.quickapp.cn/">快应用</a> <code>初步支持，待完善</code></li>
</ul>
<h2 id="megalo小程序开发框架网易">Megalo小程序开发框架（网易）</h2>
<ul>
<li>Megalo 是基于 Vue（Vue@2.5.16） 的小程序开发框架，让开发者可以用 Vue 的开发方式开发小程序应用。Megalo 是为了跨 H5 和小程序两端的应用提供一个高效的解决方案，只需要少量改动即可完成 H5 和小程序之间的代码迁移。</li>
<li>Megalo 目前支持微信小程序，支付宝小程序，百度智能小程序。<a href="https://megalojs.org/#/">官网</a></li>
</ul>
<h2 id="taro小程序开发框架京东">Taro小程序开发框架（京东）</h2>
<p>Taro 是一套遵循 React 语法规范的 多端开发 解决方案。现如今市面上端的形态多种多样，Web、React-Native、微信小程序等各种端大行其道，当业务要求同时在不同的端都要求有所表现的时候，针对不同的端去编写多套代码的成本显然非常高，这时候只编写一套代码就能够适配到多端的能力就显得极为需要。</p>
<p>使用 Taro，我们可以只书写一套代码，再通过 Taro 的编译工具，将源代码分别编译出可以在不同端（微信小程序、H5、RN 等）运行的代码。</p>
<ul>
<li><a href="https://nervjs.github.io/taro/docs/README.html">官网</a></li>
</ul>
<h2 id="mpx-滴滴">MPX (滴滴)</h2>
<p>Mpx是一款致力于提高小程序开发体验的增强型小程序框架。</p>
<ul>
<li><a href="https://didi.github.io/mpx/">官网</a></li>
</ul>

    </div>

    <div class="post-copyright">
        
        <p class="copyright-item">
            <span>Author:</span>
            <span>Magic </span>
        </p>
        

        <p class="copyright-item">
            <span>Words:</span>
            <span>1253</span>
        </p>

        <p class="copyright-item">
            
            <span>Share:</span>
            <span>

      
        <a href="//twitter.com/share?url=%2f2018%2fminiprograms%2f&amp;text=MiniPrograms&amp;via=" target="_blank" title="Share on Twitter">
          <i class="iconfont icon-twitter"></i>
        </a>
        
      
      
        <a href="//www.facebook.com/sharer/sharer.php?u=%2f2018%2fminiprograms%2f" target="_blank" title="Share on Facebook">
          <i class="iconfont icon-facebook"></i>
        </a>
        
      
      
      
      
      
      
        
      
        
      

          

          

          

          
        <a href="//service.weibo.com/share/share.php?url=%2f2018%2fminiprograms%2f&amp;appkey=&amp;title=MiniPrograms" target="_blank" title="Share on Douban ">
            <i class="iconfont icon-weibo"></i>
          </a>
          
</span>
        </p>
        

        
        <p class="copyright-item">
            Released under <a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a>
        </p>
        
    </div>


    <div class="post-tags">
        
        <section>
            <i class="iconfont icon-icon-tag"></i>Tag:
            
            <span class="tag"><a href="/tags/miniprograms/">
                    #MiniPrograms</a></span>
            
        </section>
        
        <section>
            <a href="javascript:window.history.back();">Back</a></span> ·
            <span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="/2018/%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0this%E7%9A%84%E6%8C%87%E5%90%91/" class="prev" rel="prev" title="箭头函数this的指向"><i
                class="iconfont icon-dajiantou"></i>&nbsp;箭头函数this的指向</a>
        
        
        <a href="/2018/mysql/" class="next" rel="next"
            title="MySQL 使用">MySQL 使用&nbsp;<i class="iconfont icon-xiaojiantou"></i></a>
        
    </div>

    <div class="post-comment">
        
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'yourdiscussshortname';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  


        
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2017 - 2020</span>
        
         
            <span class="author" itemprop="copyrightHolder"><a href="/">Magic</a> | </span>
         

		  <span>Crafted with ❤️ by <a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="external nofollow noopener noreffer">KeepIt</a> & <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a></span>
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.12/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  







     </div>
  </body>
</html>
